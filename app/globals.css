@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* 스크롤바 숨기기 */
.overflow-y-auto::-webkit-scrollbar {
  display: none;
}
.overflow-y-auto {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.sud-modal__thumbnail {
  overflow-y: auto !important;
}

/* 
■■■■■■■■■■■■■■■■■■■■■■■■■■■
■■■■■■ tiptap css ■■■■■■
■■■■■■■■■■■■■■■■■■■■■■■■■■■
*/
.tiptap:focus {
  outline: none;
}
.tiptap {
  border: none;
}

.tiptap {
  border: none;
  outline: none;
  min-height: 1.5rem;
  min-width: 10px;
}

/* 페이지 구분용 HorizontalRule 숨김 */
.tiptap hr[class="page-break"] {
  display: none !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  height: 0 !important;
  visibility: hidden !important;
}

.tiptap p.is-editor-empty::before {
  content: attr(data-placeholder);
  color: #aaa;
  pointer-events: none;
  float: left;
  height: 0;
}
strong,
em,
s,
u {
  font-family: inherit;
}

.tiptap-container br {
  display: initial !important;
  content: initial !important;
}
/* ■■■■■■■■■■■■■■■■■■■■■■■■■■■
   최종 동적 글머리 기호 스타일 (prose 호환)
   ■■■■■■■■■■■■■■■■■■■■■■■■■■■ */

/* --- 제목(Headings) --- */

/* 1. 카운터 설정 - .tiptap-container에서도 적용되도록 수정 */
.tiptap-container {
  counter-reset: h1 !important;
}
.tiptap-container h1 {
  counter-increment: h1;
  counter-reset: h2 !important;
}
.tiptap-container h2 {
  counter-increment: h2;
  counter-reset: h3 !important;
}
.tiptap-container h3 {
  counter-increment: h3;
}

/* 2. 제목 ::before 스타일 (번호 표시) */
.tiptap-container h1::before {
  content: counter(h1, var(--h1-style, decimal)) ". " !important;
  margin-right: 0.3em;
  float: none;
}
.tiptap-container h2::before {
  content: counter(h1, var(--h1-style, decimal)) "."
    counter(h2, var(--h2-style, decimal)) ". " !important;
  margin-right: 0.3em;
  float: none;
}
.tiptap-container h3::before {
  content: counter(h1, var(--h1-style, decimal)) "."
    counter(h2, var(--h2-style, decimal)) "."
    counter(h3, var(--h3-style, decimal)) ". " !important;
  margin-right: 0.3em;
  float: none;
}

/* --- 리스트(Lists) --- */

/* 1. 모든 리스트 아이템에 flex 레이아웃 설정 */
.tiptap-container ul:not([data-type="taskList"]) li,
.tiptap-container ol li {
  display: flex !important;
  align-items: baseline !important; /* center 대신 baseline으로 변경 */
  margin: 0.25em 0 !important;
  padding-left: 0 !important; /* flex로 바꾸면서 padding 제거 */
}

.tiptap-container ul:not([data-type="taskList"]) li > p,
.tiptap-container ol li > p {
  margin: 0 !important;
  flex: 1 !important; /* 텍스트가 남은 공간을 모두 차지 */
}

.tiptap-container ul:not([data-type="taskList"]) li::before,
.tiptap-container ol li::before {
  margin-right: 0.3em !important; /* 번호와 텍스트 사이 간격 */
  line-height: inherit !important; /* p와 동일한 line-height 사용 */
  vertical-align: baseline !important; /* 베이스라인 미세 조정 */
  position: relative !important;
  top: 0.05em !important; /* 살짝 아래로 미세 조정 */
}

/* 2. 일반 리스트(ul) 스타일 */
.tiptap-container ul:not([data-type="taskList"]) {
  list-style: none !important;
  padding: 0 !important;
  margin: 1em 0 !important;
}
.tiptap-container ul:not([data-type="taskList"]) li::before {
  content: var(--list-1-content, "•") !important;
}

/* 들여쓰기 레벨별 리스트 스타일 */
.tiptap-container ul:not([data-type="taskList"]) li[data-indent="16"]::before {
  content: var(--list-2-content, "•") !important;
}
.tiptap-container ul:not([data-type="taskList"]) li[data-indent="32"]::before {
  content: var(--list-3-content, "•") !important;
}
.tiptap-container ul:not([data-type="taskList"]) li[data-indent="48"]::before {
  content: var(--list-4-content, "•") !important;
}
.tiptap-container ul:not([data-type="taskList"]) li[data-indent="64"]::before {
  content: var(--list-4-content, "•") !important;
}

/* 3. 번호 리스트(ol) 스타일 */
.tiptap-container ol {
  list-style: none !important;
  padding: 0 !important;
  margin: 1em 0 !important;
  counter-reset: item;
}
.tiptap-container ol li {
  counter-increment: item !important;
}
.tiptap-container ol li::before {
  content: counter(item, var(--order-list-1-type, decimal))
    var(--order-list-1-suffix, ". ") !important;
}

/* 들여쓰기 레벨별 순서 리스트 스타일 */
.tiptap-container ol li[data-indent="16"]::before {
  content: counter(item, var(--order-list-2-type, decimal))
    var(--order-list-2-suffix, ". ") !important;
}
.tiptap-container ol li[data-indent="32"]::before {
  content: counter(item, var(--order-list-3-type, decimal))
    var(--order-list-3-suffix, ". ") !important;
}
.tiptap-container ol li[data-indent="48"]::before {
  content: counter(item, var(--order-list-4-type, decimal))
    var(--order-list-4-suffix, ". ") !important;
}
.tiptap-container ol li[data-indent="64"]::before {
  content: counter(item, var(--order-list-4-type, decimal))
    var(--order-list-4-suffix, ". ") !important;
}

/* --- 들여쓰기 스타일 --- */

/* 리스트 아이템 들여쓰기 */
.tiptap-container li[data-indent="16"] {
  margin-left: 16px !important;
}

.tiptap-container li[data-indent="32"] {
  margin-left: 32px !important;
}

.tiptap-container li[data-indent="48"] {
  margin-left: 48px !important;
}

.tiptap-container li[data-indent="64"] {
  margin-left: 64px !important;
}

/* Task 리스트 들여쓰기 - p 요소의 indent에 따라 전체 li 들여쓰기 */
.tiptap-container ul[data-type="taskList"] li:has(p[data-indent="16"]) {
  margin-left: 16px !important;
}

.tiptap-container ul[data-type="taskList"] li:has(p[data-indent="32"]) {
  margin-left: 32px !important;
}

.tiptap-container ul[data-type="taskList"] li:has(p[data-indent="48"]) {
  margin-left: 48px !important;
}

.tiptap-container ul[data-type="taskList"] li:has(p[data-indent="64"]) {
  margin-left: 64px !important;
}

/* Task 리스트의 p 요소 자체의 margin은 제거 */
.tiptap-container ul[data-type="taskList"] p[data-indent] {
  margin-left: 0 !important;
}

/* 일반 요소 들여쓰기 */
.tiptap-container p[data-indent="16"],
.tiptap-container h1[data-indent="16"],
.tiptap-container h2[data-indent="16"],
.tiptap-container h3[data-indent="16"],
.tiptap-container blockquote[data-indent="16"],
.tiptap-container table[data-indent="16"] {
  margin-left: 16px !important;
}

.tiptap-container p[data-indent="32"],
.tiptap-container h1[data-indent="32"],
.tiptap-container h2[data-indent="32"],
.tiptap-container h3[data-indent="32"],
.tiptap-container blockquote[data-indent="32"],
.tiptap-container table[data-indent="32"] {
  margin-left: 32px !important;
}

.tiptap-container p[data-indent="48"],
.tiptap-container h1[data-indent="48"],
.tiptap-container h2[data-indent="48"],
.tiptap-container h3[data-indent="48"],
.tiptap-container blockquote[data-indent="48"],
.tiptap-container table[data-indent="48"] {
  margin-left: 48px !important;
}

.tiptap-container p[data-indent="64"],
.tiptap-container h1[data-indent="64"],
.tiptap-container h2[data-indent="64"],
.tiptap-container h3[data-indent="64"],
.tiptap-container blockquote[data-indent="64"],
.tiptap-container table[data-indent="64"] {
  margin-left: 64px !important;
}

/* Task 리스트의 각 항목(li)에 flex 레이아웃 적용 (핵심) */
.tiptap-container ul[data-type="taskList"] li {
  display: flex !important;
  align-items: center;
}

/* 체크박스 영역(label) 스타일 */
.tiptap-container ul[data-type="taskList"] li > label {
  flex: 0 0 auto;
  margin-right: 0.5rem !important;
  user-select: none !important;
}

/* 텍스트 영역(div) 스타일 */
.tiptap-container ul[data-type="taskList"] li > div {
  flex: 1 1 auto !important;
}

/* 체크박스 커서 스타일 */
.tiptap-container ul[data-type="taskList"] input[type="checkbox"] {
  cursor: pointer !important;
}

/* 중첩된 Task 리스트 마진 제거 */
.tiptap-container ul[data-type="taskList"] ul[data-type="taskList"] {
  margin: 0 !important;
}

/* 체크된 항목 텍스트에 취소선 적용 (기존 스타일 유지) */
.tiptap-container li[data-checked="true"] > div {
  text-decoration: line-through !important;
  opacity: 0.6;
}

/* 인용(Blockquote) 스타일 */
.tiptap-container blockquote {
  border-left: 5px solid #a3a3a3 !important ;
  margin: 1.5rem 0;
  padding-left: 0.8rem;
}
@font-face {
  font-family: "IntelOneMono";
  src: url("/fonts/IntelOneMono-Medium.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}
/* 코드 블록(Code Block) 스타일 */
.tiptap-container pre {
  background: #666666;
  color: white;
  border-radius: 0.5rem;
  font-family: IntelOneMono !important;
  margin: 1.5rem 0;
  padding: 0.75rem 1rem;
}

/* 코드 블록 내부의 code 태그 스타일 */
.tiptap-container pre code {
  font-family: IntelOneMono !important;
  background: none;
  color: inherit;
  padding: 0;
}

.tiptap-container table {
  border-collapse: collapse;
  width: 100% !important;
  margin: 1rem 0;
}

.tiptap-container table th {
  background: #5cdbd3;
  border-left: 1px solid #006d75;
  border-right: 1px solid #006d75;
  border-bottom: 2px solid #006d75;
  padding: 4px 8px;
  vertical-align: top;
}
.tiptap-container table td {
  border: 1px solid #006d75;
  padding: 4px 8px;
  vertical-align: top;
}

/* 테이블 가장 왼쪽 셀의 왼쪽 선 제거 */
.tiptap-container table th:first-child,
.tiptap-container table td:first-child {
  border-left: none;
}

/* 테이블 가장 오른쪽 셀의 오른쪽 선 제거 */
.tiptap-container table th:last-child,
.tiptap-container table td:last-child {
  border-right: none;
}

/* 테이블 첫 번째 행의 상단 선을 두껍게 */
.tiptap-container table tr:first-child th,
.tiptap-container table tr:first-child td {
  border-top: 2px solid #006d75;
}

/* 테이블 마지막 행의 하단 선을 두껍게 */
.tiptap-container table tr:last-child th,
.tiptap-container table tr:last-child td {
  border-bottom: 2px solid #006d75;
}

.sud-select,
.sud-select sud-hover {
  background: transparent !important;
}
.prose br {
  display: revert !important;
}

.ProseMirror .column-block {
  width: 100%;
  display: grid;
  /* 컬럼을 가로로 나열 */
  grid-auto-flow: column;
  /* 모든 컬럼이 동일한 너비를 갖도록 함 */
  grid-auto-columns: 1fr;
  gap: 12px; /* 컬럼 사이의 간격 */
  padding: 8px 0;
}

.ProseMirror .column {
  overflow: hidden;
  padding: 8px;
  margin: -8px;
}

/* (선택 사항) 에디터 포커스 시 컬럼 영역 표시 */
.ProseMirror-focused .column {
  border: 1px gray dashed;
  border-radius: 8px;
}
/* 
■■■■■■■■■■■■■■■■■■■■■■■■■■■
■■■■■■ print css ■■■■■■
■■■■■■■■■■■■■■■■■■■■■■■■■■■
*/
@media print {
  /* 1. 불필요한 UI 숨기기 */
  #header {
    display: none;
  }

  /* 2. 스크롤을 유발하는 부모 컨테이너 제한 해제 */
  body,
  #__next,
  div,
  #main-layout {
    overflow: visible !important;
    height: auto !important;
    background: none !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* 3. 기본적으로 모든 요소를 숨김 */
  body * {
    visibility: hidden;
  }
  #paper-wrapper {
    padding: 0 !important;
    border: none !important;
    box-shadow: none !important;
    max-width: 100% !important;
    width: 100% !important;
  }
  /* 4. 인쇄할 영역과 그 자식들만 다시 보이게 함 */
  .printable-area,
  .printable-area * {
    visibility: visible;
  }

  /* 5. ✨ [핵심 수정] 인쇄 영역에서 충돌을 일으키는 속성을 모두 제거합니다. */
  /* 이제 .printable-area는 @page 규칙으로 생성된 여백을 존중하게 됩니다. */
  .printable-area {
    margin: 0;
    padding: 0 !important;
    width: 100% !important;
    box-shadow: none;
  }

  /* 6. 내용물이 용지 폭을 넘어가지 않도록 하는 방어 코드들 (유지) */
  .printable-area img {
    max-width: 100% !important;
    height: auto !important;
  }
  .printable-area table {
    table-layout: fixed;
    width: 100% !important;
  }
  .printable-area th,
  .printable-area td {
    overflow-wrap: break-word;
  }
  .printable-area * {
    overflow-wrap: break-word;
  }

  /* 7. 색상 인쇄 설정 (유지) */
  *,
  *::before,
  *::after {
    print-color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
  }

  /* ✨ [핵심 추가] 페이지 나누기 제어 규칙들 */

  /* 1. 제목과 다음 내용이 분리되지 않도록 설정 */
  /* 제목(h1~h6) 바로 뒤에서는 페이지를 나누는 것을 최대한 피합니다. */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid;
    break-after: avoid-page;
  }

  /* 2. 특정 요소(제목, 이미지, 표 등) 내부에서 페이지가 나뉘지 않도록 설정 */
  img,
  figure,
  blockquote,
  table,
  ul,
  ol {
    page-break-inside: avoid;
    break-inside: avoid-page;
  }

  /* 3. 문단이 잘릴 때 최소 줄 수를 보장 (Widows & Orphans 방지) */
  /* 문단의 마지막 줄이 다음 페이지 맨 위에 혼자 남거나(Orphan),
     문단의 첫 줄이 이전 페이지 맨 밑에 혼자 남는(Widow) 현상을 방지합니다. */
  p {
    widows: 2; /* 페이지 하단에 남아야 할 최소 줄 수 */
    orphans: 2; /* 페이지 상단에 있어야 할 최소 줄 수 */
  }
}

/* 
■■■■■■■■■■■■■■■■■■■■■■■■■■■
■■■■■■ font css ■■■■■■
■■■■■■■■■■■■■■■■■■■■■■■■■■■
*/
/* GmarketSans */
@font-face {
  font-family: "GmarketSansTTFBold";
  src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansBold.woff")
    format("woff");
}
@font-face {
  font-family: "GmarketSansTTFLight";
  src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansLight.woff")
    format("woff");
}
@font-face {
  font-family: "GmarketSansTTFMedium";
  src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff")
    format("woff");
}

/* NotoSansKR */
@font-face {
  font-family: "NotoSansKR-Black";
  src: url("/fonts/NotoSansKR-Black.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-Bold";
  src: url("/fonts/NotoSansKR-Bold.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-ExtraBold";
  src: url("/fonts/NotoSansKR-ExtraBold.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-ExtraLight";
  src: url("/fonts/NotoSansKR-ExtraLight.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-Light";
  src: url("/fonts/NotoSansKR-Light.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-Medium";
  src: url("/fonts/NotoSansKR-Medium.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-Regular";
  src: url("/fonts/NotoSansKR-Regular.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-SemiBold";
  src: url("/fonts/NotoSansKR-SemiBold.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSansKR-Thin";
  src: url("/fonts/NotoSansKR-Thin.ttf") format("truetype");
}

/* NotoSerifKR */
@font-face {
  font-family: "NotoSerifKR-Black";
  src: url("/fonts/NotoSerifKR-Black.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSerifKR-Bold";
  src: url("/fonts/NotoSerifKR-Bold.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSerifKR-ExtraLight";
  src: url("/fonts/NotoSerifKR-ExtraLight.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSerifKR-Light";
  src: url("/fonts/NotoSerifKR-Light.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSerifKR-Medium";
  src: url("/fonts/NotoSerifKR-Medium.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSerifKR-Regular";
  src: url("/fonts/NotoSerifKR-Regular.ttf") format("truetype");
}
@font-face {
  font-family: "NotoSerifKR-SemiBold";
  src: url("/fonts/NotoSerifKR-SemiBold.ttf") format("truetype");
}

/* Pretendard */
@font-face {
  font-family: "Pretendard-Black";
  src: url("/fonts/Pretendard-Black.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-Bold";
  src: url("/fonts/Pretendard-Bold.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-ExtraBold";
  src: url("/fonts/Pretendard-ExtraBold.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-ExtraLight";
  src: url("/fonts/Pretendard-ExtraLight.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-Light";
  src: url("/fonts/Pretendard-Light.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-Medium";
  src: url("/fonts/Pretendard-Medium.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-Regular";
  src: url("/fonts/Pretendard-Regular.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-SemiBold";
  src: url("/fonts/Pretendard-SemiBold.ttf") format("truetype");
}
@font-face {
  font-family: "Pretendard-Thin";
  src: url("/fonts/Pretendard-Thin.ttf") format("truetype");
}

/* MaruBuri */
@font-face {
  font-family: "MaruBuri-ExtraLight";
  src: url("/fonts/MaruBuri-ExtraLight.ttf") format("truetype");
}
@font-face {
  font-family: "MaruBuri-Light";
  src: url("/fonts/MaruBuri-Light.ttf") format("truetype");
}
@font-face {
  font-family: "MaruBuri-Regular";
  src: url("/fonts/MaruBuri-Regular.ttf") format("truetype");
}
@font-face {
  font-family: "MaruBuri-Bold";
  src: url("/fonts/MaruBuri-Bold.ttf") format("truetype");
}
@font-face {
  font-family: "MaruBuri-SemiBold";
  src: url("/fonts/MaruBuri-SemiBold.ttf") format("truetype");
}

/* Nanum */
@font-face {
  font-family: "NanumPen";
  src: url("/fonts/NanumPen.ttf") format("truetype");
}
@font-face {
  font-family: "NanumBrush";
  src: url("/fonts/NanumBrush.ttf") format("truetype");
}

@font-face {
  font-family: "NanumGothic";
  src: url("/fonts/NanumGothic.ttf") format("truetype");
}
@font-face {
  font-family: "NanumGothicLight";
  src: url("/fonts/NanumGothicLight.ttf") format("truetype");
}
@font-face {
  font-family: "NanumGothicBold";
  src: url("/fonts/NanumGothicBold.ttf") format("truetype");
}
@font-face {
  font-family: "NanumGothicExtraBold";
  src: url("/fonts/NanumGothicExtraBold.ttf") format("truetype");
}
@font-face {
  font-family: "NanumMyeongjo";
  src: url("/fonts/NanumMyeongjo.ttf") format("truetype");
}
@font-face {
  font-family: "NanumMyeongjoBold";
  src: url("/fonts/NanumMyeongjoBold.ttf") format("truetype");
}
@font-face {
  font-family: "NanumMyeongjoExtraBold";
  src: url("/fonts/NanumMyeongjoExtraBold.ttf") format("truetype");
}
